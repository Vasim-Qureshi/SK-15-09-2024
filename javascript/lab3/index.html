<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .main {
            width: 40%;
        }

        .error {
            color: red;
        }
    </style>
</head>

<body>
    <div class="container main">
        <h1>Calculate Age</h1>
        <div class="mb-3">
            Enter name :
            <input class="form-control" type="text" id="username" onkeyup="checkname(event, this)" />
            <span class="error name"></span>
        </div>
        <div class="mb-3">
            Enter Birth date : <input class="form-control" type="date" id="bd" onchange="checkDate(this)" />
            <span class="error bdate"></span>
        </div>
        <div class="mb-3">
            <button class="btn btn-primary" onclick="calculate()">Calculate</button>
        </div>

    </div>
    <div class="container">
        <h1 id="res"></h1>
    </div>
    <script>
        var eleerr = document.querySelector('.name');
        function checkname(event, ele) {
            console.log(ele)
            if (ele.value.length < 5)
                eleerr.innerText = 'Name should be atleast 5 characters'
            else
                eleerr.innerText = ''
        }
        var eleerr1 = document.querySelector('.bdate');
        function checkDate(ele) {
            console.log(ele)
            if (ele.value !== null || ele.value !== '')
                eleerr1.innerText = ''

        }
        function calculate() {
            var elename = document.getElementById('username').value;

            if (elename === null || elename === '') {
                eleerr.innerText = 'Name cannot be empty'
                return;
            }
            var elebd = document.getElementById('bd').value;
            var eleerr1 = document.querySelector('.bdate');
            if (elebd === null || elebd === '') {
                eleerr1.innerText = 'Birthdate cannot be empty'
                return;
            }
            var res = document.getElementById('res')
            res.innerText = 'Welcome ' + elename + ', you are ' + getAge(elebd) + ' years old';
        }
        function getAge(dateString) {
            var ageInMilliseconds = new Date() - new Date(dateString);
            return Math.floor(ageInMilliseconds / 1000 / 60 / 60 / 24 / 365); // convert to years
        }
    </script>
</body>

</html>